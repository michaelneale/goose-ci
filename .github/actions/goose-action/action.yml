---
name: 'Goose AI Action'
description: 'Sets up Goose AI using pipx'
inputs:
  profile:
    description: 'Profile configuration for goose-ai'
    required: true

runs:
  using: 'composite'
  steps:
    - name: 'Run Goose AI'
      shell: bash
      run: |
        echo "${{ inputs.profile }}" | sudo tee /root/.goose/config/profiles.yaml > /dev/null
        echo "Running Goose Session"
        /entrypoint.sh
env:
  PLAN: $(cat .github/actions/goose-action/plan.yaml)
